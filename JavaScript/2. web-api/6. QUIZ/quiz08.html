<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <style>

  </style>
</head>

<body>
  <h2>할일 목록 만들기</h2>
  <div class="name-form">
    <h3 class="name-title"></h3>
    <input type="text" placeholder="이름을 입력하세요" class="name-input">
    <button class="btn1">확인</button>
  </div>

  <div class="todo-form">
    <input type="text" placeholder="당신의 할일을 적으세요." class="todo-input">
    <button class="btn2">확인</button>
  </div>

  <ul class="todo-list"></ul>

  <script>
    /*
        1. 입력받은 이름값을 h3에 띄워주세요.
        이름이 입력되었다면 이름 입력창을 숨겨주세요.

        2. 할일을 입력받아서 li요소로 추가해 주세요.
        그 후 입력창은 비워주세요.
        
        3. 할일이 추가되면 X버튼이 같이 생성됩니다.
        X버튼을 클릭했다면 해당 할 일을 지워주세요.
        */
    const $nametitle = document.querySelector('.name-title');
    const $name = document.querySelector('.name-input');
    const $btn1 = document.querySelector('.btn1');
    const $btn2 = document.querySelector('.btn2');
    const $todo = document.querySelector('.todo-input');
    const $todolist = document.querySelector('.todo-list')

    $btn1.addEventListener('click', () => {
      $nametitle.textContent = $name.value;
      document.querySelector('.name-form').removeChild($name);
      document.querySelector('.name-form').removeChild($btn1);
    });


    $btn2.addEventListener('click', () => {
      const $li = document.createElement('li');
      const $cxl = document.createElement('button');

      $li.textContent = $todo.value;
      $todolist.appendChild($li);

      $cxl.textContent = 'X';
      $cxl.setAttribute('name', 'remove');
      console.log(document.getElementsByName('remove'))
      let cxlId = "btnLength"+document.getElementsByName('remove').length;
      $cxl.setAttribute('id', cxlId);
      console.log($cxl);
      $li.appendChild($cxl);
      
      $todo.value = '';
      
      const $btn3 = document.getElementById(cxlId);
        $btn3.addEventListener('click', () => {
          $btn3.parentElement.remove();
        })
    });





  </script>
</body>

</html>